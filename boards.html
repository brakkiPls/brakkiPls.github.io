<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>BM - Boards</title>
		<link rel="icon" type="image/x-icon" href="/Images/favicon.ico">
		<link rel="stylesheet" href="CSS/boardStyle.css">
		<link rel="stylesheet" href="CSS/style.css">
	</head>
	<body>
		<div class="bg">
			<video autoplay muted loop class="bg_video">
				<source src="Images/BG.mp4" type="video/mp4">
			</video>
			<img src="Images/BGClouds.png" class="bg_clouds">
			<img src="Images/BGClouds.png" class="bg_clouds2">
			<img src="Images/BGCity.png" class="bg_city">
		</div>
		<input type="text" id="searchbar" onkeyup="searchPaulTable()" placeholder="Search for a pauler..">
		<script>
		function searchPaulTable() {
			// Declare variables
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("searchbar");
			filter = input.value.toUpperCase();
			table = document.getElementById("paultable");
			tr = table.getElementsByTagName("tr");
		  
			// Loop through all table rows, and hide those who don't match the search query
			for (i = 0; i < tr.length; i++) {
			  td = tr[i].getElementsByTagName("td")[0];
			  if (td) {
				txtValue = td.textContent || td.innerText;
				if (txtValue.toUpperCase().indexOf(filter) > -1) {
				  tr[i].style.display = "";
				} else {
				  tr[i].style.display = "none";
				}
			  }
			}
		  }</script>
		<div class="paulBox">
			<table id="paultable">
				<thead>
					<tr>
						<th onclick="sortTable(0,0,'asc')" class="redeemer">Redeemer</th>
						<th onclick="sortTable(1,1,'asc')" class="amount">Amount Redeemed</th>
						<th onclick="sortTable(2,1,'desc')" class="max">Highest Roll</th>
						<th onclick="sortTable(3,1,'desc')" class="total">Total Pauls collected</th>
						<th onclick="sortTable(4,1,'desc')" class="average">Paul Average</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
		</div>
		<script>
			// n = column to sort, type = alphabetical or numerical
			function sortTable(n, type, dir) {
				var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
				table = document.getElementById("paultable");
				switching = true;
				// Set the sorting direction to ascending:
				/* Make a loop that will continue until
				no switching has been done: */
				while (switching) {
					switching = false;
					rows = table.rows;
					for (i = 1; i < (rows.length - 1); i++) {
						shouldSwitch = false;
						/* Get the two elements you want to compare,
						one from current row and one from the next: */
						x = rows[i].getElementsByTagName("TD")[n];
						y = rows[i + 1].getElementsByTagName("TD")[n];
						/* Check if the two rows should switch place,
						based on the direction, asc or desc: */
						if (dir == "asc") {
							if (type == 0) {
								if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
								// If so, mark as a switch and break the loop:
									shouldSwitch = true;
									break;
								}
							} else {
								if (Number(x.innerHTML) > Number(y.innerHTML)) {
									shouldSwitch = true;
									break;
								}
							}
						} else if (dir == "desc") {
							if (type == 0) {
								if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
								// If so, mark as a switch and break the loop:
									shouldSwitch = true;
									break;
								}
							} else {
								if (Number(x.innerHTML) < Number(y.innerHTML)) {
									shouldSwitch = true;
									break;
								}
							}
						}
					}

					if (shouldSwitch) {
						/* If a switch has been marked, make the switch
						and mark that a switch has been done: */
						rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
						switching = true;
						// Each time a switch is done, increase this count by 1:
						switchcount ++;
					} else {
						/* If no switching has been done AND the direction is "asc",
						set the direction to "desc" and run the while loop again. */
						if (switchcount == 0 && dir == "asc") {
							dir = "desc";
							switching = true;
						} else if ((switchcount == 0 && dir == "desc")) {
							dir = "asc";
							switching = true;
						}
					}
				}
			}
		</script>
		<script type="text/javascript" src="JS/getPaulData.js"></script>
	</body>
</html>
